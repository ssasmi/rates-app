(this.webpackJsonpexchangesrates=this.webpackJsonpexchangesrates||[]).push([[0],{105:function(e,a,t){e.exports=t(117)},110:function(e,a,t){},117:function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),c=t(9),u=t.n(c),l=(t(110),t(15)),o=t(59),i=t(168),m=t(119),s=t(165),d=t(12),f=t(17),p=t(157),C=t(161),y=t(160),E=t(152),b=t(158),v=t(159),O=t(156),h=t(174),g=t(170),_=t(81),N=t.n(_),j=t(80),I=t.n(j),R=function(e){return localStorage.setItem("favoritesCur",JSON.stringify(e)),{type:"SET_FAVORITE",payload:e}},x=t(65),S=t.n(x);function V(e){var a=e.value,t=e.prev,n=e.code,c=a-t;return r.a.createElement("span",null,"".concat(a.toFixed(2)," ").concat(n.toLowerCase()," "),r.a.createElement("span",{className:c>=0?S.a.bad:S.a.good},"( ",c.toFixed(3)," )"))}function D(){var e=Object(l.b)(),a=Object(l.c)((function(e){return e.currencyReducer})),t=Object(l.c)((function(e){return e.favoriteCurrencyReducer}));return r.a.createElement(E.a,{component:O.a},r.a.createElement(p.a,{stickyHeader:!0,"aria-label":"simple table"},r.a.createElement(b.a,null,r.a.createElement(v.a,null,r.a.createElement(y.a,{align:"left"},"\u0417\u0430"),r.a.createElement(y.a,{align:"left"},"\u0411\u0443\u043a\u0432. \u043a\u043e\u0434"),r.a.createElement(y.a,{align:"left"},"\u0412\u0430\u043b\u044e\u0442\u0430"),r.a.createElement(y.a,{align:"left"},"\u041f\u043e\u043b\u0443\u0447\u0430\u0435\u0448\u044c"),r.a.createElement(y.a,{align:"left"},"\u0418\u0437\u0431\u0440\u0430\u043d\u043d\u0430\u044f"))),r.a.createElement(C.a,null,a.filter((function(e){return e.CharCode!==t.currency.CharCode})).sort((function(e){return t.list.includes(e.ID)?-1:1})).map((function(e){for(var a=1,n=e.Value/t.currency.Value/e.Nominal*t.currency.Nominal,r=e.Previous/t.currency.Previous/e.Nominal*t.currency.Nominal;n*a<1;)a*=10;return Object(f.a)(Object(f.a)({},e),{},{Nominal:1*a,Value:n*a,Previous:r*a})})).map((function(a){return r.a.createElement(v.a,{key:a.NumCode},r.a.createElement(y.a,{align:"left"},a.Nominal),r.a.createElement(y.a,{align:"left"},a.CharCode),r.a.createElement(y.a,{align:"left"},a.Name),r.a.createElement(y.a,{align:"left"},r.a.createElement(V,{prev:a.Previous,value:a.Value,code:t.currency.CharCode})),r.a.createElement(y.a,{align:"center"},r.a.createElement(h.a,{control:r.a.createElement(g.a,{onChange:function(){return e(function(e){var a=JSON.parse(localStorage.getItem("favorites"))||[],t=a.indexOf(e);return a=t>=0?a.filter((function(a){return a!==e})):a.concat(e),localStorage.setItem("favorites",JSON.stringify(a)),{type:"CHANGE_FAVORITE_LIST",payload:a}}(a.ID))},checked:t.list.includes(a.ID),icon:r.a.createElement(I.a,null),checkedIcon:r.a.createElement(N.a,null),name:a.CharCode,label:a.CharCode})})))})))))}var H=t(44),A=t(169),k=t(173),P=t(162),T=t(66),w=t.n(T),F=function(e){return{type:"CHANGE_MAIN_CUR",payload:e}},G=function(e){return{type:"CHANGE_BOTH_CUR",payload:e}},U=function(e){return{type:"CHANGE_SECOND_CUR",payload:e}};function B(){var e=Object(l.b)(),a=Object(l.c)((function(e){return e.currencyReducer})),t=Object(l.c)((function(e){return e.favoriteCurrencyReducer})),n=function(t){var n=a.filter((function(e){return e.CharCode===t.target.value}));e(R.apply(void 0,Object(H.a)(n))),e(G.apply(void 0,Object(H.a)(n)))};return r.a.createElement("div",{className:w.a.container},r.a.createElement("p",{className:w.a.text}," \u0411\u0430\u0437\u043e\u0432\u0430\u044f \u0432\u0430\u043b\u044e\u0442\u0430 : "),r.a.createElement(P.a,null,r.a.createElement(A.a,{value:a.length>1?t.currency.CharCode:"",onChange:function(e){return n(e)},displayEmpty:!0,inputProps:{"aria-label":"Without label"}},a.map((function(e){return r.a.createElement(k.a,{key:e.NumCode,value:e.CharCode},e.Name)})))))}function J(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(B,null),r.a.createElement(D,null))}var L=t(61),M=t.n(L),z=t(43),Y=t(82),W=t.n(Y),X=t(83),Z=t.n(X),$=t(172),q=t(84),K=t.n(q),Q=/^[0-9]*[.]?[0-9]*$/;function ee(e){var a=e.value,t=e.changeHandler,n=e.readOnly,c=e.name;return r.a.createElement(r.a.Fragment,null,r.a.createElement($.a,{className:K.a.input,InputProps:{style:{fontSize:40},inputProps:{min:0},readOnly:n},fullWidth:!0,value:a,onChange:function(e){return function(e){Q.test(e)&&t(e)}(e.target.value)},label:c,type:"number",InputLabelProps:{shrink:!0},variant:"outlined"}),"\u0421\u044e\u0434\u0430 \u043f\u043e\u0442\u043e\u043c \u0434\u043e\u043f\u0438\u0448\u0443")}ee.defaultProps={changeHandler:function(){},readOnly:!1};var ae=t(86),te=t.n(ae),ne=t(85),re=t.n(ne),ce=t(167),ue=t(171),le=t(166),oe=t(175),ie=t(62),me=t.n(ie);function se(e){var a=e.activeCur,t=e.changeCur,c=Object(n.useState)(!1),u=Object(z.a)(c,2),o=u[0],i=u[1],d=Object(l.c)((function(e){return e.currencyReducer})),f=Object(l.c)((function(e){return e.favoriteCurrencyReducer})),p=Object(n.useRef)(null),C=Object(l.b)(),y=Object(n.useState)(3),E=Object(z.a)(y,2),b=E[0],v=E[1],h=Object(n.useMemo)((function(){return d.slice().sort((function(e,a){return e.ID===f.currency.ID?-1:a.ID===f.currency.ID?1:f.list.includes(e.ID)>f.list.includes(a.ID)?-1:1}))}),[d,f]),g=function(e){p.current&&p.current.contains(e.target)||i(!1)};return r.a.createElement(r.a.Fragment,null,r.a.createElement(s.a,{size:"small",className:me.a.buttons,color:"primary","aria-label":"buttons"},h.slice(0,3).map((function(e){return r.a.createElement(m.a,{onClick:function(){C(t(e))},key:e.ID,variant:e.ID===a.ID?"contained":"",className:me.a.button},e.CharCode)})),r.a.createElement(m.a,{onClick:function(){C(t(h[b]))},variant:h[b]&&h[b].ID===a.ID?"contained":"",className:me.a.button},h.length>1&&h[b].CharCode),r.a.createElement(m.a,{ref:p,onClick:function(){i((function(e){return!e}))}},o?r.a.createElement(re.a,null):r.a.createElement(te.a,null))),r.a.createElement(le.a,{open:o,anchorEl:p.current,role:void 0,transition:!0,style:{zIndex:2}},(function(e){var a=e.TransitionProps,n=e.placement;return r.a.createElement(ue.a,Object.assign({},a,{style:{transformOrigin:"bottom"===n?"center top":"center bottom"}}),r.a.createElement(O.a,{elevation:3},r.a.createElement(ce.a,{onClickAway:g},r.a.createElement(oe.a,{style:{maxHeight:450,overflow:"auto"}},h.slice(3).map((function(e,a){return r.a.createElement(k.a,{key:e.ID,selected:e.ID===h[b].ID,onClick:function(){return function(e){v(e),C(t(h[e])),i(!1)}(a+3)}},e.Name)}))))))})))}function de(e){var a=e.inputValue,t=e.inputValueHandler,n=e.readOnly,c=e.name,u=e.activeCur,l=e.changeCur;return r.a.createElement("div",{className:Z.a.container},r.a.createElement(se,{activeCur:u,changeCur:l}),r.a.createElement(ee,{name:c,value:a,changeHandler:t,readOnly:n}))}function fe(){var e=Object(l.b)(),a=Object(l.c)((function(e){return e.exchangeCurrencyReducer})),t=Object(l.c)((function(e){return e.favoriteCurrencyReducer.currency})),c=Object(n.useState)("0"),u=Object(z.a)(c,2),o=u[0],i=u[1],m=Object(n.useState)("0"),s=Object(z.a)(m,2),d=s[0],f=s[1];return Object(n.useEffect)((function(){var e=a.mainCurrency.Value/a.secondCurrency.Value/a.mainCurrency.Nominal*a.secondCurrency.Nominal*o;f(e.toFixed(2))}),[o,a.mainCurrency.Value,a.secondCurrency.Value,a.mainCurrency.Nominal,a.secondCurrency.Nominal]),Object(n.useEffect)((function(){e(G(t))}),[t,e]),r.a.createElement("div",{className:W.a.container},r.a.createElement(de,{inputValue:o,inputValueHandler:i,name:"\u041e\u0442\u0434\u0430\u0435\u0448\u044c",activeCur:a.mainCurrency,changeCur:F}),r.a.createElement(de,{inputValue:d,readOnly:!0,activeCur:a.secondCurrency,name:"\u041f\u043e\u043b\u0443\u0447\u0430\u0435\u0448\u044c",changeCur:U}))}function pe(){return r.a.createElement("div",null,"\u041e\u0448\u0438\u0431\u043a\u0430. \u041d\u0430\u0436\u043c\u0438\u0442\u0435 \u043d\u0430 \u043e\u0434\u043d\u0443 \u0438\u0437 \u043a\u043d\u043e\u043f\u043e\u043a \u0441\u0432\u0435\u0440\u0445\u0443, \u0434\u043b\u044f \u0442\u043e\u0433\u043e \u0447\u0442\u043e-\u0431\u044b \u043f\u0435\u0440\u0435\u0439\u0442\u0438 \u0432 \u0441\u043e\u043e\u0442\u0432\u0435\u0441\u0442\u0432\u0443\u044e\u0449\u0438\u0439 \u0440\u0430\u0437\u0434\u0435\u043b \u043f\u0440\u0438\u043b\u043e\u0436\u0435\u043d\u0438\u044f.")}de.defaultProps={inputValueHandler:function(){},readOnly:!1};var Ce=[{name:"\u041a\u0443\u0440\u0441 \u0432\u0430\u043b\u044e\u0442",path:"/"},{name:"\u041a\u0430\u043b\u044c\u043a\u0443\u043b\u044f\u0442\u043e\u0440 \u0432\u0430\u043b\u044e\u0442",path:"/calc"}];var ye=function(){var e=Object(d.f)(),a=Object(l.b)();return Object(n.useEffect)((function(){a((function(e){fetch("https://www.cbr-xml-daily.ru/daily_json.js").then((function(e){return e.json()})).then((function(a){return e({type:"GET_CURRENCY",payload:Object.values(a.Valute)})}))}))}),[a]),r.a.createElement(i.b,{injectFirst:!0},r.a.createElement("div",{className:M.a.container},r.a.createElement(s.a,{className:M.a.buttons,size:"large",color:"primary","aria-label":"large outlined primary button group"},Ce.map((function(a){return r.a.createElement(m.a,{variant:a.path===e.pathname?"contained":"",className:M.a.button,key:a.path,component:o.b,to:a.path},a.name)}))),r.a.createElement(d.c,null,r.a.createElement(d.a,{exact:!0,path:"/"},r.a.createElement(J,null)),r.a.createElement(d.a,{exact:!0,path:"/calc"},r.a.createElement(fe,null)),r.a.createElement(d.a,{path:"*"},r.a.createElement(pe,null)))))},Ee=t(27),be=t(88),ve=t(89),Oe=[{ID:"R01",NumCode:"643",CharCode:"RUB",Nominal:1,Name:"\u0420\u043e\u0441\u0441\u0438\u0439\u0441\u043a\u0438\u0439 \u0440\u0443\u0431\u043b\u044c",Value:1,Previous:1}],he={currency:JSON.parse(localStorage.getItem("favoritesCur"))||{ID:"R01",NumCode:"643",CharCode:"RUB",Nominal:1,Name:"\u0420\u043e\u0441\u0441\u0438\u0439\u0441\u043a\u0438\u0439 \u0440\u0443\u0431\u043b\u044c",Value:1,Previous:1},list:JSON.parse(localStorage.getItem("favorites"))||[]},ge=JSON.parse(localStorage.getItem("favoritesCur"))||{ID:"R01",NumCode:"643",CharCode:"RUB",Nominal:1,Name:"\u0420\u043e\u0441\u0441\u0438\u0439\u0441\u043a\u0438\u0439 \u0440\u0443\u0431\u043b\u044c",Value:1,Previous:1},_e={mainCurrency:ge,secondCurrency:ge},Ne=Object(Ee.combineReducers)({currencyReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Oe,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"GET_CURRENCY":return[].concat(Object(H.a)(e),Object(H.a)(a.payload));default:return e}},favoriteCurrencyReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:he,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"SET_FAVORITE":return Object(f.a)(Object(f.a)({},e),{},{currency:a.payload});case"CHANGE_FAVORITE_LIST":return Object(f.a)(Object(f.a)({},e),{},{list:a.payload});default:return e}},exchangeCurrencyReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_e,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"CHANGE_MAIN_CUR":return Object(f.a)(Object(f.a)({},e),{},{mainCurrency:a.payload});case"CHANGE_SECOND_CUR":return Object(f.a)(Object(f.a)({},e),{},{secondCurrency:a.payload});case"CHANGE_BOTH_CUR":return Object(f.a)(Object(f.a)({},e),{},{mainCurrency:a.payload,secondCurrency:a.payload});default:return e}}}),je=Object(Ee.createStore)(Ne,Object(be.composeWithDevTools)(Object(Ee.applyMiddleware)(ve.a)));u.a.render(r.a.createElement(l.a,{store:je},r.a.createElement(o.a,{basename:"/ExchangeRates"},r.a.createElement(ye,null))),document.getElementById("root"))},61:function(e,a,t){e.exports={container:"App_container__3GxY8",buttons:"App_buttons__1ox0X",button:"App_button__3Bpiw"}},62:function(e,a,t){e.exports={buttons:"ExchangeSelectCurrency_buttons__2oYZr",button:"ExchangeSelectCurrency_button__35tmy"}},65:function(e,a,t){e.exports={good:"CurrencyValue_good__3gLu_",bad:"CurrencyValue_bad__1y713"}},66:function(e,a,t){e.exports={container:"FavoriteCurrency_container__GHBPm",text:"FavoriteCurrency_text__1IoX4"}},82:function(e,a,t){e.exports={container:"ExchangeRatePage_container__1deNl"}},83:function(e,a,t){e.exports={container:"ExchangeBlock_container__11n25"}},84:function(e,a,t){e.exports={input:"ExchangeInput_input__2CTM6"}}},[[105,1,2]]]);
//# sourceMappingURL=main.8113b08d.chunk.js.map